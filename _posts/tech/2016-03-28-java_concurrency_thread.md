
---
layout: post
title: Java 并发编程学习 - 线程
category: 技术
tags: Java
keywords: Java, Concurrency, Thread
description: 
---

### 1. 什么是线程？
什么线程？关于线程的 [维基百科](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=2&cad=rja&uact=8&ved=0ahUKEwiru_Dn1-PLAhXjfHIKHTTtDlAQFggkMAE&url=https%3A%2F%2Fzh.wikipedia.org%2Fzh%2F%25E7%25BA%25BF%25E7%25A8%258B&usg=AFQjCNGkqeFdYVYwmBQgsunfkJPT1eIm_A&sig2=uQBRmsAwfXWpK-lsOCYGaw) 解释如下：  


```线程是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并行执行不同的任务。在Unix System V及SunOS中也被称为轻量进程，但轻量进程更多指内核线程，而把用户线程称为线程。 线程是独立调度和分派的基本单位。```

如何理解线程是 CPU 调度的最小单位呢？简单来说一个 CPU 只能运行一个线程。线程由线程ID、程序计数器、寄存器集合和堆栈组成。线程自己不拥有系统资源，只拥有一点在运行中必不可少的资源，但它可与同属一个进程的其他线程共享进程所拥有的全部资源。


### 2. 线程 vs 进程？

1) 调度。在传统的操作系统中，拥有资源和独立调度的基本单位都是进程。在引入线程的操作系统中，线程是独立调度的基本单位，进程是资源拥有的基本单位。在同一进程中，线程的切换不会引起进程切换。在不同进程中进行线程切换,如从一个进程内的线程切换到另一个进程中的线程时，会引起进程切换。

2) 拥有资源。不论是传统操作系统还是设有线程的操作系统，进程都是拥有资源的基本单位，而线程不拥有系统资源（也有一点必不可少的资源），但线程可以访问其隶属进程的系统资源。

3) 并发性。在引入线程的操作系统中，不仅进程之间可以并发执行，而且多个线程之间也可以并发执行，从而使操作系统具有更好的并发性，提高了系统的吞吐量。

4) 系统开销。由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、 I/O设备等，因此操作系统所付出的开销远大于创建或撤销线程时的开销。类似地，在进行进程切换时，涉及当前执行进程CPU环境的保存及新调度到进程CPU环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。此外，由于同一进程内的多个线程共享进程的地址空间，因此，这些线程之间的同步与通信非常容易实现，甚至无需操作系统的干预。

5) 地址空间和其他资源（如打开的文件）：进程的地址空间之间互相独立，同一进程的各线程间共享进程的资源，某进程内的线程对于其他进程不可见。


### 3. Java 线程
#### 3.1 线程启动
#### 3.2 线程静态方法
#### 3.3 线程控制
#### 3.4 线程组
#### 3.4 线程通信


